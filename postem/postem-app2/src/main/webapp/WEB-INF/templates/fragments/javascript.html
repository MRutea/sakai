<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<body>
<script th:fragment="createGradeBookJs" th:inline="javascript">
  /*<![CDATA[*/
  // Load dropzone library
  includeWebjarLibrary('dropzone');
  
  window.onload = function() {
	console.log('Entering..');
    Dropzone.options.dropzoneForm = {
    	    // do not change these values as the dropzone logic depends on these values
    	    autoProcessQueue: false,
    	    parallelUploads: 1,
    	    uploadMultiple: false,
    	    addRemoveLinks: true,
    	    maxFiles: 1,
    	    acceptedFiles: ".csv",
    	    timeout: 0, // Dropzone 4.4.0 introduced a 30sec default timeout
    	    dictFallbackMessage: "msg1",
    	    dictFallbackText: "msg2",
    	    dictFileTooBig: "msg3",
    	    dictInvalidFileType: "msg4",
    	    dictResponseError: "msg5",
    	    dictCancelUpload: "msg6",
    	    dictCancelUploadConfirmation: "msg7",
    	    dictRemoveFile: "msg8",
    	    dictMaxFilesExceeded: "msg9",
    	    dictFolderUploadError: "msg10",

    	    init: function() {
    	    	console.log('Entering2..');
    	    	
    	        this.on("addedfile", function() {
    	            document.getElementById("gradebook-cancel-button").disabled=false;
    	        });
    	    	
    	    	this.on("maxfilesexceeded", function(file) { this.removeFile(file); });
    	    	
    	    	this.on("complete", function(file) {
    	    		  this.removeFile(file);
    	    		});
    	    	
    	        this.on("addedfile", function(file) {

    	          // Create the remove button
    	          var removeButton = Dropzone.createElement("<button>Remove file</button>");
    	          

    	          // Capture the Dropzone instance as closure.
    	          var _this = this;

    	          // Listen to the click event
    	          removeButton.addEventListener("click", function(e) {
    	            // Make sure the button click doesn't submit the form:
    	            e.preventDefault();
    	            e.stopPropagation();

    	            // Remove the file preview.
    	            _this.removeFile(file);
    	            // If you want to the delete the file on the server as well,
    	            // you can do the AJAX request here.
    	          });

    	          // Add the button to the file preview element.
    	          file.previewElement.appendChild(removeButton);
    	        });
    	    }
    	};
    
  }
  /*]]>*/
</script>
<script th:fragment="studentViewJs" th:inline="javascript">
  /*<![CDATA[*/
  var studentViewFunctions = {
		  
    showStudent: function () {
      var selectedParticipant = document.getElementById('selectedParticipant').value;
      document.getElementById('student_view_form').action;
      document.getElementById('student_view_form').action = document.getElementById('student_view_form').action+'/'+selectedParticipant;
      document.getElementById('student_view_form').submit();
    }
}
  /*]]>*/
</script>
</script>
<script th:fragment="indexJs" th:inline="javascript">
  /*<![CDATA[*/
  var indexFunctions = {
    checkSubmitButton : function () {
      var anyCheckboxEnabled = false;
      $(':checkbox').each(function() {
        if(this.checked) {
          $('#delete-groups-submit-button').attr('disabled', false);
          anyCheckboxEnabled = true;
        }
      });

      if(!anyCheckboxEnabled) {
        $('#delete-groups-submit-button').attr('disabled', true);
      }
    }

  }
  /*]]>*/
  </script>

</body>
</html>
